{"id":"lY9v","dependencies":[{"name":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\package.json","includedInParent":true,"mtime":1662697256443},{"name":"react","loc":{"line":1,"column":32,"index":32},"parent":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\src\\App.js","resolved":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\node_modules\\react\\index.js"},{"name":"./App.css","loc":{"line":2,"column":7,"index":49},"parent":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\src\\App.js","resolved":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\src\\App.css"},{"name":"./static/css/chat_interface.css","loc":{"line":3,"column":7,"index":70},"parent":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\src\\App.js","resolved":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\src\\static\\css\\chat_interface.css"},{"name":"./static/css/temporary.css","loc":{"line":4,"column":7,"index":113},"parent":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\src\\App.js","resolved":"C:\\Users\\ry88\\Documents\\Personal\\ray_thing\\interview-bot\\react-chat\\src\\static\\css\\temporary.css"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=n(require(\"react\"));function t(e){if(\"function\"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(t=function(e){return e?r:n})(e)}function n(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=t(n);if(r&&r.has(e))return r.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(s,a,i):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e){return u(e)||i(e)||a(e)||o()}function o(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function a(e,t){if(e){if(\"string\"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function i(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function m(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=b();return function(){var n,r=_(e);if(t){var s=_(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&(\"object\"===r(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return v(e)}function v(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function b(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}require(\"./App.css\"),require(\"./static/css/chat_interface.css\"),require(\"./static/css/temporary.css\");var O=function(){return\"_\"+Math.random().toString(36).substr(2,9)},k=e.default.createElement,j=function(e){var t=e.replace(\"&#x27;\",\"'\");return!t||-1===t.indexOf(\"\\n\")&&-1===t.indexOf(\"\\\\n\")?k(\"p\",{},E(t)):k(\"div\",{},t.split(/\\n|\\\\n/).map(function(e,t){return k(\"p\",{key:t},E(e))}))},w=function(e,t,n){var r=n.exec(e);return r&&(r.element=t),r},C=function(e){return[w(e,\"b\",/\\*\\*([ a-z0-9!?.,*'`_]+)\\*\\*/gim),w(e,\"i\",/\\*([ a-z0-9!?.,'`_]+)\\*/gim),w(e,\"u\",/_\\*([ a-z0-9!?.,*'`_]+)\\*_/gim),w(e,\"code\",/`([ a-z0-9!?.,*'_]+)`/gim)].filter(function(e){return null!=e})},E=function e(t,n){var r=C(t);if(r.length>0){var s=r.sort(function(e,t){return e.index-t.index})[0],o=t.substring(s.index+s[0].length,t.length),a=k(s.element,{key:s.index},e(s[1]));return e(o,[n,[t.substring(0,s.index),a]])}return n?[n,t]:t},x=function(t){m(r,e.Component);var n=y(r);function r(){return f(this,r),n.apply(this,arguments)}return d(r,[{key:\"render\",value:function(){return e.default.createElement(\"div\",{className:\"send_message\",onClick:this.props.handleClick},e.default.createElement(\"div\",{className:\"text\"},\"send\"))}}]),r}(),P=function(t){m(r,e.Component);var n=y(r);function r(){return f(this,r),n.apply(this,arguments)}return d(r,[{key:\"render\",value:function(){return e.default.createElement(\"div\",{className:\"message_input_wrapper\"},e.default.createElement(\"input\",{id:\"msg_input\",className:\"message_input\",placeholder:\"Type your messages here...\",value:this.props.message,onChange:this.props.onChange,onKeyPress:this.props._handleKeyPress}))}}]),r}(),M=function(t){m(r,e.Component);var n=y(r);function r(){return f(this,r),n.apply(this,arguments)}return d(r,[{key:\"render\",value:function(){return e.default.createElement(\"div\",{className:\"avatar\"})}}]),r}(),D=function(t){m(r,e.Component);var n=y(r);function r(){return f(this,r),n.apply(this,arguments)}return d(r,[{key:\"render\",value:function(){var t=j(this.props.message);return e.default.createElement(\"li\",{className:\"message \".concat(this.props.appearance,\" appeared\")},e.default.createElement(M,null),e.default.createElement(\"div\",{className:\"text_wrapper\"},e.default.createElement(\"div\",{className:\"text\"},t)))}}]),r}(),S=function(t){m(r,e.Component);var n=y(r);function r(e){var t;return f(this,r),l(v(t=n.call(this,e)),\"scrollToBottom\",function(){var e=t.refs.scroll;e.scrollTop=e.scrollHeight}),t.createBotMessages=t.createBotMessages.bind(v(t)),t}return d(r,[{key:\"componentDidMount\",value:function(){this.scrollToBottom()}},{key:\"componentDidUpdate\",value:function(){this.scrollToBottom()}},{key:\"createBotMessages\",value:function(){return this.props.messages.map(function(t,n){return e.default.createElement(D,{key:n,message:t.message,appearance:t.isbotmessage?\"left\":\"right\"})})}},{key:\"render\",value:function(){return e.default.createElement(\"ul\",{className:\"messages\",ref:\"scroll\"},this.createBotMessages())}}]),r}(),B=function(t){m(r,e.Component);var n=y(r);function r(e){var t;return f(this,r),(t=n.call(this,e)).state={sessionID:O(),messages:[],current_message:\"\",ID:t.props.domElement.getAttribute(\"userid\")},t.handleClick=t.handleClick.bind(v(t)),t._handleKeyPress=t._handleKeyPress.bind(v(t)),t.onChange=t.onChange.bind(v(t)),t.addMessageBox=t.addMessageBox.bind(v(t)),t}return d(r,[{key:\"addFirstMessage\",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.state.messages),n=this.state.sessionID;0===t.length&&fetch(\"/api/greeting\",{crossDomain:!0,method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({sessionID:n,userID:this.state.ID})}).then(function(e){return e.json()}).then(function(n){e.setState({messages:[].concat(s(t),[{message:n.message,isbotmessage:!0}])})},function(e){})}},{key:\"addMessageBox\",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state.messages,r=this.state.current_message,o=this.state.sessionID,a=this.state.ID;r&&t&&(n=[].concat(s(n),[{message:r}]),fetch(\"/api/response\",{crossDomain:!0,method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({sessionID:o,message:r,userID:a})}).then(function(e){return e.json()}).then(function(t){e.setState({messages:[].concat(s(n),[{message:t.message,isbotmessage:!0}])})},function(e){}),r=\"\"),this.setState({current_message:r,messages:n})}},{key:\"componentDidMount\",value:function(){this.addFirstMessage()}},{key:\"handleClick\",value:function(){this.addMessageBox()}},{key:\"onChange\",value:function(e){this.setState({current_message:e.target.value})}},{key:\"_handleKeyPress\",value:function(e){var t=!1;\"Enter\"===e.key&&(t=!0),this.addMessageBox(t)}},{key:\"render\",value:function(){return e.default.createElement(\"div\",{className:\"chat_window\"},e.default.createElement(S,{messages:this.state.messages}),e.default.createElement(\"div\",{className:\"bottom_wrapper clearfix\"},e.default.createElement(P,{_handleKeyPress:this._handleKeyPress,onChange:this.onChange,message:this.state.current_message}),e.default.createElement(x,{handleClick:this.handleClick})))}}]),r}(),I=B;exports.default=I;"},"sourceMaps":null,"error":null,"hash":"098369687939121ad49cee2a8715249f","cacheData":{"env":{}}}